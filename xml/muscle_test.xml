<rosiml version="0.8.41">
  <simulator frequency="100">
    <solver  iterations="10"/>
  </simulator>

  <screens>
    <screen name="Muscle actuator test" show="true" follow="false">
      <camera>
        <position x="-2.5" y="0.00" z="1.0"/>
        <lookAt x="0.0" y="0.00" z="1.0"/>
      </camera>
      <osd>
        <time  font="Time"  size="25" colour="FFFF00"/>
        <robot font="Robot" size="25" colour="FFFFFF"/>
      </osd>
    </screen>

    <sky name="YARS/CloudySky"/>
  </screens>

  <environment>
    <ground fixed="true" fog="false">
      <visualisation>
        <texture name="YARS/DryGroundSmall"/>
      </visualisation>
    </ground>
  </environment>

  <robots>
    <robot name="muscle_contraption">
      <body>
        <box name="anchor">
          <dimension height="0.4" width="0.4" depth="0.4"/>
          <pose x="0" y="0" z="1.5" alpha="0" beta="0" gamma="0"/>
          <physics>
            <mass kg="0"/>
          </physics>
        </box>
        <sphere name="sphere" visualise="true">
          <dimension radius="0.1"/>
          <pose x="0" y="0" z="0.1" alpha="0" beta="0" gamma="0"/>
          <physics>
            <mass kg="1"/>
          </physics>
        </sphere>
      </body>
      <!--<pose z="2"/>-->
      <actuators>
        <muscle name="muscle" type="force and velocity">
          <source name="anchor"/>
          <destination name="sphere"/>
          <force    max="10"/>
          <velocity max="10"/>
          <pose beta="-90.0"/>
          <mapping  min="-1.0" max="1.0"/>
          <force-length_model model="linear"/>
          <force-velocity_model model="linear"/>
        </muscle>
      </actuators>

      <controller module="Sine" frequency="10"/>
    </robot>
  </robots>

  <logging>
    <object target="anchor" precision="3"> <use value="x"/> <use value="y"/> </object>
    <object target="sphere" precision="3"> <use value="x"/> <use value="y"/> </object>

    <actuator target="muscle" precision="3"> <internal/> <external/> <appliedForce/> <appliedVelocity/> </actuator>

    <console>
      <target name="sphere"/>
      <target name="muscle"/>
    </console>

    <!--<gnuplot size="100000" delay="100" pairwise="true">-->
      <!--<target name="sphere"/>-->
      <!--<target name="muscle"/>-->
    <!--</gnuplot>-->

    <file name="muscle_log">
      <target name="sphere"/>
      <target name="muscle"/>
    </file>

    <csv name="muscle_log">
      <target name="sphere"/>
      <target name="muscle"/>
    </csv>

    <blender name="muscle_log.csv" cfg="cibraitenberg_blender.cfg" framerate="10"/>
    <blender name="muscle_log.txt"/>
  </logging>
</rosiml>
